# Data Model: Automated Analysis

**Feature**: Automated Nightly Failure Analysis
**Spec**: [specs/001-nightly-failure-analysis/spec.md](../spec.md)

## Entities

### FailureContext
*Represents the aggregated data collected from GitHub API to be sent to the LLM.*

| Field | Type | Description |
|-------|------|-------------|
| `RunID` | `int64` | The GitHub Actions Run ID. |
| `RunURL` | `string` | URL to the run summary. |
| `Timestamp` | `string` | ISO8601 timestamp of the failure. |
| `Jobs` | `[]FailedJob` | List of failing jobs. |

### FailedJob
*Represents a single failed job within the run.*

| Field | Type | Description |
|-------|------|-------------|
| `ID` | `int64` | The Job ID. |
| `Name` | `string` | Name of the job (e.g., "Integration Tests (ubuntu-latest)"). |
| `StepFailure` | `string` | Name of the specific step that failed. |
| `Logs` | `string` | Truncated/relevant logs for this job. |

### AnalysisReport (Markdown)
*The output format generated by the analysis engine.*

```markdown
## ğŸ” Nightly Failure Analysis

**Run**: [Link to Run]
**Date**: YYYY-MM-DD

### ğŸš¨ Summary
[Brief description of what failed]

### ğŸ¯ Root Cause Hypothesis
[Analysis of why it failed]

### ğŸ› ï¸ Suggested Fixes
1. [Step 1]
2. [Step 2]

### ğŸ“œ Relevant Logs
```text
[Snippet]
```
```

## State Transitions
*N/A - Stateless process*
