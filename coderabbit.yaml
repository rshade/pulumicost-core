# yaml-language-server: $schema=https://raw.githubusercontent.com/coderabbitai/coderabbit-docs/main/static/schema/schema.v2.json
version: 2

# Global settings
language: en-US
tone_instructions: "Focus on Go 1.24 best practices and modern Go idioms"

# Review settings
reviews:
  # Enable PR blocking - require CodeRabbit approval before merge
  request_changes_workflow: true
  # Enable commit status for better PR blocking
  commit_status: true
  # Show review status messages
  review_status: true
  # Generate high level summary
  high_level_summary: true
  # Generate sequence diagrams
  sequence_diagrams: true
  # Estimate code review effort
  estimate_code_review_effort: true
  # Assess linked issues
  assess_linked_issues: true
  # Include related issues
  related_issues: true
  # Include related PRs
  related_prs: true
  # Suggest labels
  suggested_labels: true
  # Suggest reviewers
  suggested_reviewers: true
  # Generate poem in walkthrough
  poem: false
  
  # Path instructions for Go 1.24 compatibility
  path_instructions:
    - path: "**/*.go"
      instructions: |
        Please ensure this Go code is compatible with Go 1.24.
        Consider using the latest Go features and best practices.
        Pay special attention to:
        - Error handling with proper error wrapping
        - Use of generics where appropriate
        - Modern Go idioms and patterns
        - Performance optimizations available in Go 1.24
    - path: "go.mod"
      instructions: |
        Please review Go module dependencies for:
        - Security vulnerabilities
        - Compatibility with Go 1.24
        - Latest stable versions
        - Proper module structure
    - path: "**/*_test.go"
      instructions: |
        Please ensure adequate test coverage for new functionality.
        Consider adding integration tests for complex logic.
        Use Go 1.24 testing features where appropriate.
    - path: "**/*.md"
      instructions: |
        Please ensure documentation is clear and up-to-date.
        Consider adding examples for new features.
        Use proper markdown formatting.

# Tools configuration
tools:
  golangci-lint:
    enabled: false
    config_file: ".golangci.yml"
  
  languagetool:
    enabled: true
  
  shellcheck:
    enabled: true
  
  markdownlint:
    enabled: true
  
  gitleaks:
    enabled: true
  
  yamllint:
    enabled: true

# Code guidelines
code_guidelines:
  enabled: true
  filePatterns:
    - "**/.cursorrules"
    - "**/CLAUDE.md"
    - "**/GEMINI.md"
    - "**/.cursor/rules/*"
    - "**/.windsurfrules"
    - "**/.clinerules/*"
    - "**/.rules/*"
    - "**/AGENT.md"

# Learnings scope
learnings:
  scope: "auto"

# Issues scope
issues:
  scope: "auto"

# Pull requests scope
pull_requests:
  scope: "auto"

# MCP integration
mcp:
  usage: "auto"
  disabled_servers: ["memory"]